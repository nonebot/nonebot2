---
description: Changelog
toc_max_heading_level: 2
---

# æ›´æ–°æ—¥å¿—

## æœ€è¿‘æ›´æ–°

### ğŸš€ æ–°åŠŸèƒ½

- Feature: æ·»åŠ  Rule, Permission åå‘ä½è¿ç®—æ”¯æŒ [@yanyongyu](https://github.com/yanyongyu) ([#872](https://github.com/nonebot/nonebot2/pull/872))
- Feature: æ–°å¢æ–‡æœ¬å®Œæ•´åŒ¹é…è§„åˆ™ [@A-kirami](https://github.com/A-kirami) ([#797](https://github.com/nonebot/nonebot2/pull/797))

### ğŸ› Bug ä¿®å¤

- Fix: ä¿®å¤ event ç±»å‹æ£€æŸ¥ä¼šå¯¹ç±»å‹è¿›è¡Œè‡ªåŠ¨è½¬æ¢ [@yanyongyu](https://github.com/yanyongyu) ([#876](https://github.com/nonebot/nonebot2/pull/876))
- Fix: ä¿®å¤ `on_fullmatch` è¿”å›ç±»å‹é”™è¯¯ [@yanyongyu](https://github.com/yanyongyu) ([#815](https://github.com/nonebot/nonebot2/pull/815))
- Fix: ä¿®å¤ DataclassEncoder åµŒå¥— encode çš„é—®é¢˜ [@AkiraXie](https://github.com/AkiraXie) ([#812](https://github.com/nonebot/nonebot2/pull/812))

### ğŸ“ æ–‡æ¡£

- Docs: ä¿®å¤é€‚é…å™¨æ–‡æ¡£å†…å•†åº—é“¾æ¥ [@yanyongyu](https://github.com/yanyongyu) ([#861](https://github.com/nonebot/nonebot2/pull/861))
- Docs: tips for finding adapters' document link [@StarHeartHunt](https://github.com/StarHeartHunt) ([#860](https://github.com/nonebot/nonebot2/pull/860))
- Docs: æ·»åŠ å¯¹ `fastapi_reload` åœ¨ Windows å¹³å°é¢å¤–å½±å“çš„è¯´æ˜ [@CherryGS](https://github.com/CherryGS) ([#830](https://github.com/nonebot/nonebot2/pull/830))
- Docs: ä¿®å¤ ci/cd action ä¸­é”™è¯¯çš„ç‰ˆæœ¬å· [@Bubbleioa](https://github.com/Bubbleioa) ([#819](https://github.com/nonebot/nonebot2/pull/819))
- Docs: å‡å°æ›´æ–°æ—¥å¿— toc æœ€å¤§æ˜¾ç¤ºç­‰çº§ [@yanyongyu](https://github.com/yanyongyu) ([#813](https://github.com/nonebot/nonebot2/pull/813))
- Docs: ä¿®æ”¹è®®é¢˜æ¨¡æ¿ä¸­çš„é”™è¯¯é“¾æ¥ [@he0119](https://github.com/he0119) ([#807](https://github.com/nonebot/nonebot2/pull/807))
- Docs: ä¿®æ”¹æ¶ˆæ¯æ¨¡æ¿æ–‡æ¡£ä¸­é”™è¯¯çš„æ ·ä¾‹ [@mnixry](https://github.com/mnixry) ([#806](https://github.com/nonebot/nonebot2/pull/806))
- Docs: æ›´æ–°è´¡çŒ®æŒ‡å— [@yanyongyu](https://github.com/yanyongyu) ([#798](https://github.com/nonebot/nonebot2/pull/798))

### ğŸ’« æ‚é¡¹

- CI: ä¿®å¤å‘å¸ƒæœºå™¨äººçš„æ„å¤–é”™è¯¯ [@he0119](https://github.com/he0119) ([#892](https://github.com/nonebot/nonebot2/pull/892))
- Docs: æ›¿æ¢å’Œç§»é™¤éƒ¨åˆ†å·²ç»å¤±æ•ˆçš„æ’ä»¶ [@MeetWq](https://github.com/MeetWq) ([#879](https://github.com/nonebot/nonebot2/pull/879))
- Docs: æ·»åŠ  netlify æ ‡ç­¾ [@yanyongyu](https://github.com/yanyongyu) ([#816](https://github.com/nonebot/nonebot2/pull/816))
- Fix: ä¿®æ”¹é”™è¯¯çš„æ’ä»¶ PyPI é¡¹ç›®åç§° [@Lancercmd](https://github.com/Lancercmd) ([#804](https://github.com/nonebot/nonebot2/pull/804))
- CI: æ·»åŠ æ›´æ–°æ—¥å¿—è‡ªåŠ¨æ›´æ–° action [@yanyongyu](https://github.com/yanyongyu) ([#799](https://github.com/nonebot/nonebot2/pull/799))

### ğŸ» æ’ä»¶å‘å¸ƒ

- Plugin: æ±‰å…œ Handle [@yanyongyu](https://github.com/yanyongyu) ([#899](https://github.com/nonebot/nonebot2/pull/899))
- Plugin: å¤šé€‚é…å™¨å¸®åŠ©å‡½æ•° [@yanyongyu](https://github.com/yanyongyu) ([#897](https://github.com/nonebot/nonebot2/pull/897))
- Plugin: è¯­å¥æŠ½è±¡åŒ– [@yanyongyu](https://github.com/yanyongyu) ([#894](https://github.com/nonebot/nonebot2/pull/894))
- Plugin: å¿«é€Ÿæœç´¢ [@yanyongyu](https://github.com/yanyongyu) ([#889](https://github.com/nonebot/nonebot2/pull/889))
- Plugin: wordle çŒœå•è¯ [@yanyongyu](https://github.com/yanyongyu) ([#891](https://github.com/nonebot/nonebot2/pull/891))
- Plugin: MediaWiki æŸ¥è¯¢ [@yanyongyu](https://github.com/yanyongyu) ([#886](https://github.com/nonebot/nonebot2/pull/886))
- Plugin: HikariSearch [@yanyongyu](https://github.com/yanyongyu) ([#884](https://github.com/nonebot/nonebot2/pull/884))
- Plugin: ç¬¬äºŒä¸ª leetcode æŸ¥è¯¢æ’ä»¶ [@yanyongyu](https://github.com/yanyongyu) ([#882](https://github.com/nonebot/nonebot2/pull/882))
- Plugin: æˆåˆ†å§¬ [@yanyongyu](https://github.com/yanyongyu) ([#878](https://github.com/nonebot/nonebot2/pull/878))
- Plugin: Arcaea æŸ¥åˆ†æ’ä»¶ [@yanyongyu](https://github.com/yanyongyu) ([#875](https://github.com/nonebot/nonebot2/pull/875))
- Plugin: QQ è‡ªåŠ¨åŒæ„å¥½å‹ç”³è¯· [@yanyongyu](https://github.com/yanyongyu) ([#871](https://github.com/nonebot/nonebot2/pull/871))
- Plugin: 21 ç‚¹æ¸¸æˆæ’ä»¶ [@yanyongyu](https://github.com/yanyongyu) ([#865](https://github.com/nonebot/nonebot2/pull/865))
- Plugin: è‰²å›¾ç”Ÿæˆ [@yanyongyu](https://github.com/yanyongyu) ([#863](https://github.com/nonebot/nonebot2/pull/863))
- Plugin: bilibili é€šçŸ¥æ’ä»¶ [@yanyongyu](https://github.com/yanyongyu) ([#859](https://github.com/nonebot/nonebot2/pull/859))
- Plugin: è®¢é˜…æ¨é€ç®¡ç† [@yanyongyu](https://github.com/yanyongyu) ([#855](https://github.com/nonebot/nonebot2/pull/855))
- Plugin: åŠ¨æ¼«æ–°é—» [@yanyongyu](https://github.com/yanyongyu) ([#852](https://github.com/nonebot/nonebot2/pull/852))
- Plugin: æ¸¸æˆç‹å¡æŸ¥ [@yanyongyu](https://github.com/yanyongyu) ([#846](https://github.com/nonebot/nonebot2/pull/846))
- Plugin: äºŒç»´ç è¯†åˆ«ä¸å‘é€ [@yanyongyu](https://github.com/yanyongyu) ([#843](https://github.com/nonebot/nonebot2/pull/843))
- Plugin: mockingbird [@yanyongyu](https://github.com/yanyongyu) ([#841](https://github.com/nonebot/nonebot2/pull/841))
- Plugin: QQ è‡ªåŠ¨ç»­ç«èŠ± [@yanyongyu](https://github.com/yanyongyu) ([#839](https://github.com/nonebot/nonebot2/pull/839))
- Plugin: æ¯æ—¥ä¸€å¥ [@yanyongyu](https://github.com/yanyongyu) ([#832](https://github.com/nonebot/nonebot2/pull/832))
- Plugin: åŸç¥æŠ½å¡è®°å½•åˆ†æ [@yanyongyu](https://github.com/yanyongyu) ([#829](https://github.com/nonebot/nonebot2/pull/829))
- Plugin: YetAnotherPicSearch [@yanyongyu](https://github.com/yanyongyu) ([#825](https://github.com/nonebot/nonebot2/pull/825))
- Plugin: 60s è¯»ä¸–ç•Œå°æ’ä»¶ [@yanyongyu](https://github.com/yanyongyu) ([#810](https://github.com/nonebot/nonebot2/pull/810))
- Plugin: pixiv.net p ç«™æŸ¥è¯¢å›¾ç‰‡ [@yanyongyu](https://github.com/yanyongyu) ([#803](https://github.com/nonebot/nonebot2/pull/803))

## v2.0.0-beta.2

- ä¿®å¤ `receive`, `got` åœ¨å‚æ•°ä¸ºç©ºæ¶ˆæ¯æ—¶ä¾æ—§ä¼šåå¤è¯¢é—®
- ä¿®å¤æ–‡æ¡£å•†åº—åˆ†é¡µæ˜¾ç¤ºé”™è¯¯
- ä¿®å¤æ’ä»¶å¯¼å…¥å¤±è´¥æ—¶ï¼Œä¾ç„¶å­˜åœ¨äºå·²å¯¼å…¥æ’ä»¶åˆ—è¡¨ä¸­
- ç§»é™¤ `state` ä¾èµ–æ³¨å…¥æ‰€éœ€çš„é»˜è®¤å€¼ `State()`
- å¢åŠ  `fastapi` é…ç½®é¡¹ï¼šæ˜¯å¦å°†é€‚é…å™¨è·¯ç”±åŒ…å«åœ¨ schema ä¸­
- ä¿®æ”¹ `load_builtin_plugins` å‡½æ•°ï¼Œä½¿å…¶èƒ½å¤Ÿæ”¯æŒåŠ è½½å¤šä¸ªå†…ç½®æ’ä»¶
- æ–°å¢ `load_builtin_plugin` å‡½æ•°ï¼Œç”¨äºåŠ è½½å•ä¸ªå†…ç½®æ’ä»¶
- ä¿®æ”¹ `Message` å’Œ `MessageSegment` ç±»ï¼Œå®Œå–„ typingï¼Œè½¬ç§» Mapping æ„å»ºæ”¯æŒè‡³ pydantic validate
- è°ƒæ•´é¡¹ç›®ç»“æ„ï¼Œåˆ†ç¦»å†…éƒ¨å®šä¹‰ä¸ç”¨æˆ·æ¥å£
- æ–°å¢ Bot è¿æ¥äº‹ä»¶é’©å­ (å¦‚ `driver.on_bot_connect` ) çš„ä¾èµ–æ³¨å…¥

## v2.0.0-beta.1

- æ–°å¢ `MessageTemplate` å¯¹äº `str` æ™®é€šæ¨¡æ¿çš„æ”¯æŒ
- ç§»é™¤æ’ä»¶åŠ è½½çš„ `NameSpace` æ¨¡å¼
- ä¿®æ”¹ toml åŠ è½½æ’ä»¶æ—¶çš„é”®åä¸º `tool.nonebot` ä»¥ç¬¦åˆè§„èŒƒ
- æ–°å¢ Handler ä¾èµ–æ³¨å…¥æ”¯æŒï¼ŒåŒæ­¥/å¼‚æ­¥æ”¯æŒ
- ç»Ÿä¸€ `Processor`, `Rule`, `Permission`, `Processor` ä½¿ç”¨ `Handler`
- ä¿®æ”¹å†…ç½® `Rule`, `Permission` å¦‚ `startswith`, `command` ç­‰ä½¿ç”¨ class å®ç°
- æ›´æ¢æ–‡æ¡£æ¡†æ¶ (docusaurus) ä»¥åŠä¸»é¢˜ (docusaurus-theme-nonepress)
- ç§»é™¤ Matcher `state_factory` æ”¯æŒ

## v2.0.0a16

- æ–°å¢ `MessageTemplate` å¯ç”¨äº `Message` çš„æ¨¡æ¿ç”Ÿæˆ
- æ–°å¢ `matcher.got` `matcher.send` `matcher.pause` `matcher.reject` `matcher.finish` æ”¯æŒ `MessageTemplate`
- ç§»é™¤ `matcher.got` åŸæœ¬çš„ `state format` æ”¯æŒï¼Œç”± `MessageTemplate` template æ›¿ä»£
- `adapter` åŸºç±»æ‹†åˆ†ä¸ºå•ç‹¬æ–‡ä»¶
- ä¿®å¤ `fastapi` Driver Websocket æœªèƒ½æ­£ç¡®æä¾›è¯·æ±‚å¤´éƒ¨
- æ–°å¢ `fastapi` Driver æ›´å¤šçš„ uvicorn ç›¸å…³é…ç½®é¡¹
- æ–°å¢ `quart` Driver æ›´å¤šçš„ uvicorn ç›¸å…³é…ç½®é¡¹
- ä¿®å¤ `endswith` Rule é”™è¯¯çš„æ­£åˆ™åŒ¹é…
- ä¿®å¤ `cqhttp` Adapter `image`, `record`, `video` å¯¹ `BytesIO` ä¸æ­£å¸¸çš„è¯»å–æ“ä½œ

## v2.0.0a15

- ä¿®å¤ `fastapi` Driver æœªèƒ½æ­£ç¡®è¿›è¡Œ reconnect
- ä¿®å¤ `MessageSegment` é”™è¯¯çš„ Mapping æ˜ å°„

## v2.0.0a14

- ä¿®æ”¹æ—¥å¿—ç­‰çº§ï¼Œæ”¯æŒè¾“å‡ºç­‰çº§è‡ªå®šä¹‰
- ä¿®å¤æ—¥å¿—è¾“å‡ºæ¨¡å—åé”™è¯¯
- ä¿®æ”¹ `Matcher` å±æ€§ `module` ç±»å‹
- æ–°å¢ `Matcher` å±æ€§ `plugin_name` `module_name` `module_prefix`
- ç§»é™¤ `bot.call_api` å‚æ•° `self_id` åˆ‡æ¢æœºå™¨äººæ”¯æŒ
- ä¿®å¤ `type_updater` `permission_updater` æœªä¼ é€’çš„é”™è¯¯
- ä¿®å¤ `type_updater` `permission_updater` å‚æ•° `state` é”™è¯¯
- ä¿®å¤ä½¿ç”¨ `state_factory` åå¯¼è‡´æ— æ³•åœ¨ session å†…ä¼ é€’ `state`
- é‡æ„ `Driver` åŠè¿æ¥ä¿¡æ¯æŠ½è±¡
- æ–°å¢æ­£å‘ Driver(Client) æ”¯æŒ
- æ–°å¢ `aiohttp` æ­£å‘ Driver
- `fastapi` Driver æ–°å¢æ­£å‘æ”¯æŒ

## v2.0.0a13.post1

- åˆ†ç¦» `handler` ä¸ `matcher`
- ä¿®å¤ `cqhttp` secret æ ¡éªŒå‡ºé”™
- ä¿®å¤ `pydantic 1.8` å¯¼è‡´çš„ `alias` é—®é¢˜
- ä¿®æ”¹ `cqhttp` `ding` `session id`ï¼Œä¸å†å…è®¸è·¨ç¾¤
- ä¿®æ”¹ `shell_command` å­˜å‚¨ message
- ä¿®å¤ `cqhttp` æ£€æŸ¥ reply å¤±è´¥é€€å‡º
- æ–°å¢ `call_api` hook æ¥å£
- ä¼˜åŒ– `import hook`

## v2.0.0a11

- ä¿®æ”¹ `nonebot` é¡¹ç›®ç»“æ„ï¼Œåˆ†ç¦»æ‰€æœ‰ `adapter`
- ä¿®æ”¹æ’ä»¶åŠ è½½é€»è¾‘ï¼Œä½¿ç”¨ `import hook` (PEP 302)
- æ–°å¢æ’ä»¶åŠ è½½æ–¹å¼: `json`, `toml`
- é€‚é… `pydantic` ~1.8
- ç§»é™¤ 4 ç§å†…ç½®äº‹ä»¶ç±»å‹é™åˆ¶ï¼Œå…è®¸è‡ªå®šä¹‰äº‹ä»¶ç±»å‹
- æ–°å¢ä¼šè¯æƒé™æ›´æ–°è‡ªå®šä¹‰ï¼Œä¼šè¯ä¸­æ–­æ—¶æ›´æ–°æƒé™ä»¥åšåˆ°å¤šäººä¼šè¯

## v2.0.0a10

- æ–°å¢ `Quart Driver` æ”¯æŒ
- ä¿®å¤ `mirai` åè®®é€‚é…å‘½ä»¤å¤„ç†ä»¥åŠæ¶ˆæ¯è½¬ä¹‰

## v2.0.0a9

- ä¿®å¤ `Message` æ¶ˆæ¯ä¸º `None` æ—¶çš„å¤„ç†é”™è¯¯
- ä¿®å¤ `Message.extract_plain_text` è¿”å›ä¸ºè½¬ä¹‰å­—ç¬¦ä¸²çš„é—®é¢˜
- ä¿®å¤å‘½ä»¤å¤„ç†é”™è¯¯åœ°åˆ é™¤äº†åç»­ç©ºæ ¼
- å¢åŠ å¥½å‹æ·»åŠ å’ŒåŠ ç¾¤è¯·æ±‚äº‹ä»¶ `approve`, `reject` æ–¹æ³•
- æ–°å¢ `mirai-api-http` åè®®é€‚é…
- ä¿®å¤ rule è¿è¡Œæ—¶ state è¦†ç›–é—®é¢˜ï¼Œéš”ç¦» state
- æ–°å¢ `shell like command` æ”¯æŒ

## v2.0.0a8

- ä¿®æ”¹ typing ç±»å‹æ³¨é‡Š
- ä¿®æ”¹ event åŸºç±»æ¥å£
- ä¿®å¤éƒ¨åˆ†éæ³• CQ ç è¢«è¯†åˆ«å¯¼è‡´æŠ¥é”™
- ä¿®å¤é text ç±»å‹ CQ ç  data æœªè¿›è¡Œå»è½¬ä¹‰
- ä¿®å¤å†…ç½®æ’ä»¶æœªè¿›è¡Œå»è½¬ä¹‰ï¼Œä¿®æ”¹å†…ç½®æ’ä»¶ä¸º cqhttp å®šåˆ¶
- ä¿®å¤ `load_plugins` åŠ è½½ä¸åˆæ³•çš„åŒ…æ—¶å‡ºç° `spec` ä¸º `None` çš„é—®é¢˜
- å‡ºäº**CQ ç å®‰å…¨æ€§è€ƒè™‘**ï¼Œä½¿ç”¨ cqhttp çš„ `bot.send` æˆ–è€… `matcher.send` æ—¶é»˜è®¤å¯¹å­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰
- ç§»åŠ¨ cqhttp ç›¸å…³ `Permission` è‡³ `nonebot.adapters.cqhttp` åŒ…å†…

## v2.0.0a7

- ä¿®å¤ cqhttp æ£€æŸ¥ to me æ—¶å‡ºç° IndexError
- ä¿®å¤å·²å¤±æ•ˆçš„äº‹ä»¶å“åº”å™¨ä»ä¼šè¿è¡Œä¸€æ¬¡çš„ bug
- ä¿®æ”¹ cqhttp æ£€æŸ¥ reply æ—¶æœªå»é™¤åç»­ at ä»¥åŠç©ºæ ¼
- æ·»åŠ  get_plugin è·å–æ’ä»¶å‡½æ•°
- æ·»åŠ æ’ä»¶ export, require æ–¹æ³•
- **ç§»é™¤**å†…ç½® apscheduler å®šæ—¶ä»»åŠ¡æ”¯æŒ
- **ç§»é™¤**å†…ç½®åè®®é€‚é…é»˜è®¤åŠ è½½
- æ–°å¢**é’‰é’‰**åè®®é€‚é…
- ç§»é™¤åŸæœ‰å…±äº«å‹ `MatcherGroup` æ”¹ä¸ºé»˜è®¤å‹ `MatcherGroup`

## v2.0.0a6

- ä¿®å¤ block å¤±æ•ˆé—®é¢˜ (hotfix)

## v2.0.0a5

- æ›´æ–°æ’ä»¶æŒ‡å—æ–‡æ¡£
- ä¿®å¤ä¸´æ—¶äº‹ä»¶å“åº”å™¨è¿è¡Œååˆ é™¤é€ æˆçš„å¤šæ¬¡å“åº”é—®é¢˜
